<mxfile host="app.diagrams.net">
  <diagram name="Database ERD" id="database-erd">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Users Table -->
        <mxCell id="users" value="users&#xa;─────────────&#xa;PK id: TEXT&#xa;   email: TEXT (UNIQUE)&#xa;   name: TEXT&#xa;   avatar_url: TEXT&#xa;   is_online: BOOLEAN&#xa;   last_seen_at: TIMESTAMPTZ&#xa;   created_at: TIMESTAMPTZ&#xa;   updated_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="100" y="200" width="200" height="200" as="geometry" />
        </mxCell>
        
        <!-- Projects Table -->
        <mxCell id="projects" value="projects&#xa;─────────────&#xa;PK id: UUID&#xa;   name: TEXT&#xa;   description: TEXT&#xa;FK owner_id: TEXT&#xa;   color_hex: TEXT&#xa;   icon_name: TEXT&#xa;   is_archived: BOOLEAN&#xa;   created_at: TIMESTAMPTZ&#xa;   updated_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="400" y="200" width="200" height="220" as="geometry" />
        </mxCell>
        
        <!-- Project Members Table -->
        <mxCell id="project_members" value="project_members&#xa;─────────────&#xa;PK id: UUID&#xa;FK project_id: UUID&#xa;FK user_id: TEXT&#xa;   role: TEXT&#xa;   joined_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="300" y="500" width="200" height="180" as="geometry" />
        </mxCell>
        
        <!-- Boards Table -->
        <mxCell id="boards" value="boards&#xa;─────────────&#xa;PK id: UUID&#xa;FK project_id: UUID&#xa;   name: TEXT&#xa;   position: INTEGER&#xa;   created_at: TIMESTAMPTZ&#xa;   updated_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="700" y="200" width="200" height="200" as="geometry" />
        </mxCell>
        
        <!-- Board Columns Table -->
        <mxCell id="board_columns" value="board_columns&#xa;─────────────&#xa;PK id: UUID&#xa;FK board_id: UUID&#xa;   name: TEXT&#xa;   position: INTEGER&#xa;   color_hex: TEXT&#xa;   type: TEXT&#xa;   task_limit: INTEGER&#xa;   created_at: TIMESTAMPTZ&#xa;   updated_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1000" y="200" width="200" height="240" as="geometry" />
        </mxCell>
        
        <!-- Tasks Table -->
        <mxCell id="tasks" value="tasks&#xa;─────────────&#xa;PK id: UUID&#xa;FK column_id: UUID&#xa;FK board_id: UUID&#xa;FK project_id: UUID&#xa;   title: TEXT&#xa;   description: TEXT&#xa;   position: INTEGER&#xa;   priority: TEXT&#xa;   due_date: TIMESTAMPTZ&#xa;FK assignee_id: TEXT&#xa;FK created_by_id: TEXT&#xa;   label_ids: UUID[]&#xa;   attachment_urls: TEXT[]&#xa;   is_completed: BOOLEAN&#xa;   completed_at: TIMESTAMPTZ&#xa;   created_at: TIMESTAMPTZ&#xa;   updated_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1300" y="200" width="200" height="360" as="geometry" />
        </mxCell>
        
        <!-- Comments Table -->
        <mxCell id="comments" value="comments&#xa;─────────────&#xa;PK id: UUID&#xa;FK task_id: UUID&#xa;FK user_id: TEXT&#xa;   content: TEXT&#xa;   attachment_urls: TEXT[]&#xa;   is_edited: BOOLEAN&#xa;   created_at: TIMESTAMPTZ&#xa;   updated_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1300" y="600" width="200" height="220" as="geometry" />
        </mxCell>
        
        <!-- Labels Table -->
        <mxCell id="labels" value="labels&#xa;─────────────&#xa;PK id: UUID&#xa;FK project_id: UUID&#xa;   name: TEXT&#xa;   color_hex: TEXT&#xa;   created_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="400" y="500" width="200" height="180" as="geometry" />
        </mxCell>
        
        <!-- Notifications Table -->
        <mxCell id="notifications" value="notifications&#xa;─────────────&#xa;PK id: UUID&#xa;FK user_id: TEXT&#xa;   type: TEXT&#xa;   title: TEXT&#xa;   body: TEXT&#xa;   data: JSONB&#xa;   is_read: BOOLEAN&#xa;   created_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="100" y="500" width="200" height="220" as="geometry" />
        </mxCell>
        
        <!-- Activities Table -->
        <mxCell id="activities" value="activities&#xa;─────────────&#xa;PK id: UUID&#xa;FK project_id: UUID&#xa;FK user_id: TEXT&#xa;   action: TEXT&#xa;   entity_type: TEXT&#xa;   entity_id: UUID&#xa;   metadata: JSONB&#xa;   created_at: TIMESTAMPTZ" style="swimlane;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="700" y="500" width="200" height="220" as="geometry" />
        </mxCell>
        
        <!-- Relationships -->
        <mxCell id="r1" value="1" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="users" target="projects">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r2" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="projects" target="project_members">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r3" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="users" target="project_members">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r4" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="projects" target="boards">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r5" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="boards" target="board_columns">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r6" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="board_columns" target="tasks">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r7" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="tasks" target="comments">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r8" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="users" target="comments">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r9" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="projects" target="labels">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r10" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="users" target="notifications">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r11" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="projects" target="activities">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r12" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="users" target="activities">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r13" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="projects" target="tasks">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r14" value="*" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="boards" target="tasks">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="r15" value="?" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="users" target="tasks">
          <mxGeometry width="80" height="80" relative="1" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

